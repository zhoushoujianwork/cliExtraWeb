# 🖥️ Web终端快速使用指南

## 问题解决

如果您在浏览器中看不到Web终端，而是看到旧的"接管命令"弹窗，请按以下步骤操作：

### 🔄 刷新浏览器缓存

1. **硬刷新页面**：
   - Windows/Linux: `Ctrl + F5` 或 `Ctrl + Shift + R`
   - macOS: `Cmd + Shift + R`

2. **清除浏览器缓存**：
   - Chrome: 设置 → 隐私和安全 → 清除浏览数据
   - Firefox: 设置 → 隐私与安全 → 清除数据
   - Safari: 开发 → 清空缓存

3. **重启应用**：
   ```bash
   # 停止当前应用 (Ctrl+C)
   ./start_new.sh
   ```

### 🎯 正确的使用流程

1. **启动应用**：
   ```bash
   ./start_new.sh
   ```

2. **访问Web界面**：
   - 打开浏览器访问: http://localhost:5001

3. **启动Screen实例**：
   - 在左侧面板输入实例ID（如：test1）
   - 点击"启动"按钮
   - 等待状态变为"运行中"

4. **打开Web终端**：
   - 点击实例旁边的**桌面图标** 🖥️（不是终端图标）
   - 应该弹出Web终端窗口，而不是命令复制窗口

5. **在Web终端中交互**：
   - 在底部输入框输入命令
   - 按回车发送
   - 查看终端输出

### 🔍 识别Web终端功能

**正确的Web终端应该有：**
- ✅ 黑色背景的终端窗口
- ✅ 底部有输入框
- ✅ 顶部有"分离"、"终止连接"、"关闭"按钮
- ✅ 实时显示命令输出

**如果看到的是旧版本：**
- ❌ 显示"接管命令"文本
- ❌ 有"复制"按钮
- ❌ 需要在本地终端运行命令

### 🛠️ 故障排除

#### 问题1：点击桌面图标没有反应
**解决方案**：
1. 打开浏览器开发者工具（F12）
2. 查看Console标签页的错误信息
3. 确保没有JavaScript错误
4. 刷新页面重试

#### 问题2：Web终端显示"创建失败"
**解决方案**：
1. 确保Screen实例正在运行
2. 检查实例状态是否为"运行中"
3. 重启实例后再试

#### 问题3：Web终端无法输入
**解决方案**：
1. 点击输入框确保焦点
2. 检查连接状态是否为"已连接"
3. 尝试刷新页面

### 📋 功能对比

| 功能 | 旧版本（命令复制） | 新版本（Web终端） |
|------|------------------|------------------|
| 图标 | 🖥️ 终端图标 | 🖥️ 桌面图标 |
| 操作 | 复制命令到本地终端 | 直接在浏览器交互 |
| 窗口 | 显示命令文本 | 黑色终端界面 |
| 输入 | 需要切换到终端 | 直接在网页输入 |

### 🎉 成功标志

当您看到以下界面时，说明Web终端功能正常工作：

```
┌─ Web终端 - 实例 test1 ──────────────────────┐
│  [分离] [终止连接] [关闭]                    │
├─────────────────────────────────────────────┤
│ Welcome to Q CLI                            │
│ $ q --version                               │
│ q 1.12.6                                    │
│ $ _                                         │
├─────────────────────────────────────────────┤
│ 输入命令...                                 │
└─────────────────────────────────────────────┘
```

### 📞 获取帮助

如果仍然遇到问题：
1. 检查浏览器控制台错误
2. 查看应用日志
3. 重启应用和浏览器
4. 参考详细的故障排除指南

---

**提示**: Web终端是全新功能，如果遇到问题，请确保清除浏览器缓存并重启应用。
