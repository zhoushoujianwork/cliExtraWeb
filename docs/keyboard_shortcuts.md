# 聊天窗口快捷键功能

## 新增的快捷键

### 基本操作
- **Enter**: 发送消息
- **Shift + Enter**: 换行（不发送）
- **ESC**: 清空当前输入框
- **F1**: 显示快捷键帮助

### 高级操作
- **Ctrl + L**: 清空聊天记录（需要确认）
- **Ctrl + K**: 快速聚焦到输入框
- **↑ (上箭头)**: 恢复上一条发送的消息（仅在输入框为空时）

## 功能说明

### 1. 消息发送增强
- 保持原有的 Enter 发送、Shift+Enter 换行功能
- 自动记录最后发送的消息，支持快速恢复

### 2. 快速清理
- **ESC**: 快速清空输入框，重置高度
- **Ctrl + L**: 清空所有聊天记录（有确认提示）

### 3. 导航增强
- **Ctrl + K**: 全局快捷键，随时聚焦到输入框
- **↑**: 在输入框为空时，恢复上一条消息进行编辑

### 4. 帮助系统
- **F1**: 显示完整的快捷键列表
- 输入框 placeholder 显示常用快捷键提示
- 新增快捷键帮助按钮（键盘图标）

## 用户体验改进

### 视觉反馈
- 操作成功时显示简短的通知提示
- 通知会自动消失，不干扰用户操作
- 不同操作使用不同的通知类型（info、success等）

### 智能行为
- 上箭头恢复消息仅在输入框为空时生效
- Ctrl+K 全局生效，无论焦点在哪里
- ESC 清空后自动重置输入框高度

## 技术实现

### 事件监听
- 输入框级别的 keydown 事件处理
- 全局 document 级别的快捷键监听
- 防止默认行为，避免浏览器快捷键冲突

### 消息历史
- 简单的单条消息记录（可扩展为历史列表）
- 发送时自动更新记录
- 支持快速恢复编辑

### 通知系统
- 轻量级的 toast 通知
- 自动定时消失
- 位置固定在右上角，不影响操作

## 使用建议

1. **新用户**: 按 F1 查看完整快捷键列表
2. **高频用户**: 使用 Ctrl+K 快速聚焦，ESC 快速清空
3. **编辑消息**: 发送后如需修改，清空输入框后按 ↑ 恢复
4. **清理界面**: Ctrl+L 清空聊天记录，保持界面整洁

## 兼容性

- 支持所有现代浏览器
- 不影响原有功能
- 渐进增强，即使 JavaScript 失效也能正常使用基本功能
